{% extends "base.html" %}
{% block title %}Log In{% endblock %}
{% block content %}

<head>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/sign-in/">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <link href="/static/css/signin.css" rel="stylesheet">
</head>

<body class="text-center">   
  <main class="form-signin">
    {% with messages = get_flashed_messages(with_categories=true) %}
          <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }} alert-dismissible" role="alert">
              <button onclick=delete_flash(this) type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <!-- <strong>Title</strong> --> {{ message }}
              </div>
            {% endfor %}
          {% endif %}
      {% endwith %}
    <form action="/authenticate_totp" method="POST">
      <h1 class="h3 mb-3 fw-normal">Please enter your account's TOTP</h1>

      <div class="form-floating">
        <input type="text" name="otp" class="form-control" id="floatingInput" placeholder="OTP">
        <label for="floatingPassword">Authenticator OTP</label>
      </div>
      <br>
      <div>
        <button class="w-100 btn btn-lg btn-primary" type="submit">Authenticate</button>
      </div>

    </form>
  </main>
</body>

{% endblock %}